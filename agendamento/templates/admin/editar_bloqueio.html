{% extends "base.html" %}
{% block title %}Editar Bloqueio{% endblock %}

{% block content %}
<h3 class="text-center mb-4">
  <i class="bi bi-pencil-square me-2"></i>
  Editar Bloqueio
</h3>

<form method="POST" class="content-box small">
  {% csrf_token %}

  <!-- DIA -->
  <div class="mb-4">
    <label class="fw-semibold">Dia da semana</label>
    <select name="dia_semana" class="form-select">
      {% for v,l in bloqueio.DIAS_SEMANA %}
        <option value="{{ v }}" {% if bloqueio.dia_semana == v %}selected{% endif %}>
          {{ l }}
        </option>
      {% endfor %}
    </select>
  </div>

  <!-- HORÁRIOS -->
  <div class="row mb-4">
    <div class="col">
      <label>Início</label>
      <select name="hora_inicio" class="form-select">
        {% for h in horarios %}
          <option value="{{ h }}" {% if bloqueio.hora_inicio|time:"H:i" == h %}selected{% endif %}>
            {{ h }}
          </option>
        {% endfor %}
      </select>
    </div>

    <div class="col">
      <label>Fim</label>
      <select name="hora_fim" class="form-select">
        {% for h in horarios %}
          <option value="{{ h }}" {% if bloqueio.hora_fim|time:"H:i" == h %}selected{% endif %}>
            {{ h }}
          </option>
        {% endfor %}
      </select>
    </div>
  </div>

  <!-- MOTIVO -->
  <div class="mb-4">
    <label>Motivo</label>
    <input type="text" name="motivo" class="form-control"
           value="{{ bloqueio.motivo }}">
  </div>

  <button class="btn btn-success w-100">
    <i class="bi bi-check-circle"></i> Salvar alterações
  </button>
</form>
{% endblock %}
